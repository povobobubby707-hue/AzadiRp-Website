<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoidCode - خدمات و فروش گیم</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --dark: #0a0a0a;
            --darker: #050505;
            --light: #f5f5f5;
            --gray: #1a1a1a;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #e84393;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Vazirmatn', sans-serif;
        }
        
        body {
            background-color: var(--darker);
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(106, 17, 203, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(37, 117, 252, 0.1) 0%, transparent 20%);
            background-attachment: fixed;
        }
        
        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .bg-circle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary), transparent);
            opacity: 0.1;
            animation: float 15s infinite linear;
        }
        
        .bg-circle:nth-child(1) {
            width: 300px;
            height: 300px;
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .bg-circle:nth-child(2) {
            width: 200px;
            height: 200px;
            top: 60%;
            left: 80%;
            animation-delay: 5s;
        }
        
        .bg-circle:nth-child(3) {
            width: 400px;
            height: 400px;
            top: 40%;
            left: 40%;
            animation-delay: 10s;
        }
        
        .bg-circle:nth-child(4) {
            width: 250px;
            height: 250px;
            top: 80%;
            left: 20%;
            animation-delay: 7s;
        }
        
        .bg-circle:nth-child(5) {
            width: 350px;
            height: 350px;
            top: 20%;
            left: 70%;
            animation-delay: 12s;
        }
        
        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            33% {
                transform: translate(30px, -50px) rotate(120deg);
            }
            66% {
                transform: translate(-20px, 20px) rotate(240deg);
            }
            100% {
                transform: translate(0, 0) rotate(360deg);
            }
        }
        
        /* Header Styles - Smaller */
        header {
            background: rgba(10, 10, 10, 0.95);
            padding: 0.7rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(106, 17, 203, 0.3);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .logo-icon {
            font-size: 1.8rem;
            color: var(--primary);
        }
        
        .search-bar {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 0.4rem 1rem;
            width: 300px;
            transition: all 0.3s ease;
        }
        
        .search-bar:focus-within {
            box-shadow: 0 0 0 2px rgba(106, 17, 203, 0.5);
        }
        
        .search-bar input {
            background: transparent;
            border: none;
            color: white;
            width: 100%;
            padding: 0.4rem;
            outline: none;
        }
        
        .search-bar i {
            color: #b0b0b0;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.4rem 0.8rem;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .user-actions {
            display: flex;
            gap: 0.8rem;
        }
        
        .btn {
            padding: 0.4rem 1.2rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid white;
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning);
            color: #333;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        /* Hero Section */
        .hero {
            height: 70vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            margin-top: 1rem;
        }
        
        .hero-content {
            max-width: 600px;
            z-index: 1;
            animation: fadeInUp 1s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .hero p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            color: #e0e0e0;
        }
        
        /* Categories Section */
        .categories {
            padding: 3rem 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .section-title h2 {
            font-size: 2.2rem;
            display: inline-block;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: 2px;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .category-card {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            cursor: pointer;
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(106, 17, 203, 0.4);
            border-color: rgba(106, 17, 203, 0.5);
        }
        
        .category-image {
            height: 150px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .category-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
        }
        
        .category-card:hover .category-image::after {
            animation: shimmer 1.5s ease;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .category-content {
            padding: 1.5rem;
            text-align: center;
        }
        
        .category-content h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
        }
        
        /* Products Section */
        .products {
            padding: 3rem 0;
            display: none;
        }
        
        .products.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .product-card {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(106, 17, 203, 0.4);
            border-color: rgba(106, 17, 203, 0.5);
        }
        
        .product-image {
            height: 200px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .product-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
        }
        
        .product-card:hover .product-image::after {
            animation: shimmer 1.5s ease;
        }
        
        .product-content {
            padding: 1.5rem;
        }
        
        .product-content h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
        }
        
        .product-price {
            font-size: 1.2rem;
            color: var(--warning);
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .product-features {
            list-style: none;
            margin-bottom: 1.5rem;
        }
        
        .product-features li {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .product-features i {
            color: var(--success);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(to bottom, #0a0a0a, #050505);
            padding: 3rem 0 1rem;
            border-top: 1px solid rgba(106, 17, 203, 0.3);
            position: relative;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 50px;
            height: 2px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 0.8rem;
        }
        
        .footer-column a {
            color: #b0b0b0;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer-column a:hover {
            color: white;
            padding-right: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            transition: all 0.3s ease;
        }
        
        .social-links a:hover {
            transform: translateY(-5px);
        }
        
        .trust-seals {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin: 2rem 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .trust-seal {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }
        
        .trust-seal i {
            font-size: 3rem;
        }
        
        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #b0b0b0;
            font-size: 0.9rem;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            animation: modalFadeIn 0.3s ease;
            border: 1px solid rgba(106, 17, 203, 0.3);
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #b0b0b0;
            transition: all 0.3s ease;
        }
        
        .close-modal:hover {
            color: white;
        }
        
        .modal h2 {
            margin-bottom: 1.5rem;
            text-align: center;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #e0e0e0;
        }
        
        .form-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            border: 1px solid rgba(106, 17, 203, 0.3);
            background-color: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(106, 17, 203, 0.3);
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .checkbox-group input {
            width: auto;
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            padding: 2rem 0;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(106, 17, 203, 0.3);
        }
        
        .admin-nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .admin-nav a {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 8px;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .admin-nav a.active, .admin-nav a:hover {
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }
        
        .admin-content {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .table th, .table td {
            padding: 1rem;
            text-align: right;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .table th {
            background-color: rgba(106, 17, 203, 0.1);
            color: var(--primary);
        }
        
        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .status-pending {
            background-color: rgba(253, 203, 110, 0.2);
            color: var(--warning);
        }
        
        .status-completed {
            background-color: rgba(0, 184, 148, 0.2);
            color: var(--success);
        }
        
        .status-cancelled {
            background-color: rgba(232, 67, 147, 0.2);
            color: var(--danger);
        }
        
        /* User Dashboard */
        .user-dashboard {
            display: none;
            padding: 2rem 0;
        }
        
        .dashboard-nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .dashboard-nav a {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 8px;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .dashboard-nav a.active, .dashboard-nav a:hover {
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }
        
        .dashboard-content {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        /* Product Options */
        .product-options {
            margin: 1rem 0;
        }
        
        .option-group {
            margin-bottom: 1rem;
        }
        
        .option-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #e0e0e0;
        }
        
        .option-select {
            width: 100%;
            padding: 0.5rem;
            border-radius: 5px;
            border: 1px solid rgba(106, 17, 203, 0.3);
            background-color: rgba(255, 255, 255, 0.05);
            color: white;
        }
        
        /* Tickets Section */
        .tickets-section {
            padding: 3rem 0;
            display: none;
        }
        
        .tickets-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .ticket-card {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(106, 17, 203, 0.2);
            transition: all 0.3s ease;
        }
        
        .ticket-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(106, 17, 203, 0.3);
        }
        
        .ticket-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .ticket-title {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .ticket-product {
            color: var(--primary);
            font-size: 0.9rem;
        }
        
        .ticket-date {
            color: #b0b0b0;
            font-size: 0.8rem;
        }
        
        .ticket-status {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .ticket-open {
            background-color: rgba(0, 184, 148, 0.2);
            color: var(--success);
        }
        
        .ticket-closed {
            background-color: rgba(232, 67, 147, 0.2);
            color: var(--danger);
        }
        
        .ticket-reply {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .ticket-reply.admin {
            background: rgba(106, 17, 203, 0.1);
            border-left: 3px solid var(--primary);
        }
        
        /* Discount Codes */
        .discount-form {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* Upload Instructions */
        .upload-instructions {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 3px solid var(--warning);
        }
        
        .upload-instructions ol {
            padding-right: 1.5rem;
        }
        
        .upload-instructions li {
            margin-bottom: 0.5rem;
        }
        
        /* Admin Actions */
        .admin-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        /* Notifications */
        .notification {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 3px solid var(--primary);
        }
        
        .notification.admin {
            border-left-color: var(--success);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .search-bar {
                width: 100%;
                margin: 1rem 0;
            }
            
            nav ul {
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .products-grid, .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-nav, .dashboard-nav {
                flex-direction: column;
            }
            
            .trust-seals {
                flex-direction: column;
                gap: 1rem;
            }
            
            .admin-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h1>VoidCode</h1>
                </div>
                
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="جستجو در محصولات...">
                </div>
                
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link" data-target="home">خانه</a></li>
                        <li><a href="#" class="nav-link" data-target="categories">دسته‌بندی‌ها</a></li>
                        <li><a href="#" class="nav-link" data-target="products">همه محصولات</a></li>
                        <li><a href="#" class="nav-link" data-target="tickets">تیکت‌ها</a></li>
                    </ul>
                </nav>
                
                <div class="user-actions">
                    <button class="btn btn-outline" id="loginBtn">ورود</button>
                    <button class="btn btn-primary" id="registerBtn">ثبت نام</button>
                    <button class="btn btn-primary" id="adminBtn" style="display: none;">پنل ادمین</button>
                    <button class="btn btn-outline" id="userDashboardBtn" style="display: none;">پنل کاربری</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Home Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h2>خدمات حرفه‌ای گیمینگ</h2>
                <p>VoidCode ارائه دهنده بهترین خدمات و محصولات گیمینگ از سال 1404. با کیفیت بالا و پشتیبانی 24/7</p>
                <button class="btn btn-primary" id="exploreProducts">مشاهده محصولات</button>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories" id="categories">
        <div class="container">
            <div class="section-title">
                <h2>دسته‌بندی محصولات</h2>
            </div>
            <div class="categories-grid" id="categoriesGrid">
                <!-- Categories will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products" id="products">
        <div class="container">
            <div class="section-title">
                <h2>همه محصولات</h2>
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Tickets Section -->
    <section class="tickets-section" id="tickets">
        <div class="container">
            <div class="section-title">
                <h2>سیستم پشتیبانی تیکت</h2>
            </div>
            <button class="btn btn-primary" id="newTicketBtn" style="margin-bottom: 2rem;">تیکت جدید</button>
            <div id="ticketsContainer">
                <!-- Tickets will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>VoidCode</h3>
                    <p>ارائه دهنده خدمات و محصولات گیمینگ با کیفیت بالا از سال 1404. ما بهترین خدمات را با پشتیبانی 24 ساعته ارائه می‌دهیم.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-telegram"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>لینک‌های سریع</h3>
                    <ul>
                        <li><a href="#" class="nav-link" data-target="home">خانه</a></li>
                        <li><a href="#" class="nav-link" data-target="categories">دسته‌بندی‌ها</a></li>
                        <li><a href="#" class="nav-link" data-target="products">همه محصولات</a></li>
                        <li><a href="#" class="nav-link" data-target="tickets">تیکت‌ها</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>خدمات</h3>
                    <ul>
                        <li><a href="#" data-category="vps">سرور مجازی</a></li>
                        <li><a href="#" data-category="hosting">هاستینگ</a></li>
                        <li><a href="#" data-category="gamepass">گیم پس</a></li>
                        <li><a href="#" data-category="servers">سرورهای آماده</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>تماس با ما</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> تهران، خیابان ولیعصر، پلاک ۱۲۳۴</li>
                        <li><i class="fas fa-phone"></i> ۰۲۱-۱۲۳۴۵۶۷۸ (دفتر مرکزی)</li>
                        <li><i class="fas fa-phone"></i> ۰۹۱۲-۳۴۵-۶۷۸۹ (پشتیبانی)</li>
                        <li><i class="fas fa-envelope"></i> info@voidcode.ir</li>
                    </ul>
                </div>
            </div>
            
            <!-- Trust Seals Section -->
            <div class="trust-seals">
                <div class="trust-seal">
                    <i class="fas fa-shield-alt" style="color: #00b894;"></i>
                    <span>پرداخت امن</span>
                </div>
                <div class="trust-seal">
                    <i class="fas fa-headset" style="color: #2575fc;"></i>
                    <span>پشتیبانی 24/7</span>
                </div>
                <div class="trust-seal">
                    <i class="fas fa-award" style="color: #fdcb6e;"></i>
                    <span>ضمانت کیفیت</span>
                </div>
            </div>
            
            <div class="copyright">
                <p>کلیه حقوق مادی و معنوی این سایت متعلق به VoidCode می‌باشد. © 1404</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-modal" id="closeLoginModal">&times;</span>
            <h2>ورود به حساب کاربری</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginUsername">نام کاربری</label>
                    <input type="text" id="loginUsername" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">رمز عبور</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">ورود</button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">حساب کاربری ندارید؟ <a href="#" id="goToRegister">ثبت نام کنید</a></p>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="close-modal" id="closeRegisterModal">&times;</span>
            <h2>ثبت نام در VoidCode</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerEmail">ایمیل</label>
                    <input type="email" id="registerEmail" class="form-control" required>
                    <small id="emailError" style="color: var(--danger); display: none;">ایمیل معتبر نیست یا قبلا ثبت شده است</small>
                </div>
                <div class="form-group">
                    <label for="registerUsername">نام کاربری</label>
                    <input type="text" id="registerUsername" class="form-control" required>
                    <small id="usernameError" style="color: var(--danger); display: none;">این نام کاربری قبلا ثبت شده است</small>
                </div>
                <div class="form-group">
                    <label for="registerPassword">رمز عبور</label>
                    <input type="password" id="registerPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerFirstName">نام</label>
                    <input type="text" id="registerFirstName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerLastName">نام خانوادگی</label>
                    <input type="text" id="registerLastName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerNationalCode">کد ملی</label>
                    <input type="text" id="registerNationalCode" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerCountry">کشور</label>
                    <select id="registerCountry" class="form-control" required>
                        <option value="IR">ایران</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="registerProvince">استان</label>
                    <input type="text" id="registerProvince" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerCity">شهر</label>
                    <input type="text" id="registerCity" class="form-control" required>
                </div>
                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="agreeTerms" required>
                        <label for="agreeTerms">قوانین VoidCode را خوانده و قبول دارم</label>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">ثبت نام</button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">حساب کاربری دارید؟ <a href="#" id="goToLogin">وارد شوید</a></p>
        </div>
    </div>

    <!-- Product Purchase Modal -->
    <div class="modal" id="purchaseModal">
        <div class="modal-content">
            <span class="close-modal" id="closePurchaseModal">&times;</span>
            <h2 id="purchaseProductName">خرید محصول</h2>
            <div id="purchaseOptions">
                <!-- Product options will be loaded here -->
            </div>
            <div class="form-group">
                <div class="upload-instructions">
                    <h4>راهنمای آپلود رسید پرداخت</h4>
                    <ol>
                        <li>به سایت <a href="https://uploadkon.ir" target="_blank" style="color: var(--warning);">uploadkon.ir</a> مراجعه کنید</li>
                        <li>عکس رسید پرداخت خود را آپلود کنید</li>
                        <li>لینک ایجاد شده را در کادر زیر قرار دهید</li>
                    </ol>
                </div>
                <label for="paymentProofUrl">لینک رسید پرداخت (از uploadkon.ir)</label>
                <input type="url" id="paymentProofUrl" class="form-control" placeholder="https://uploadkon.ir/..." required>
            </div>
            <div class="form-group">
                <p><strong>مبلغ قابل پرداخت:</strong> <span id="totalPrice">0</span> تومان</p>
                <p><strong>شماره کارت:</strong> 6221 0612 4568 0667</p>
                <p><strong>به نام:</strong> مجتبی اسماعیل زاده سالتانی</p>
            </div>
            <button class="btn btn-primary" id="confirmPurchase" style="width: 100%;">تایید و ثبت سفارش</button>
        </div>
    </div>

    <!-- New Ticket Modal -->
    <div class="modal" id="ticketModal">
        <div class="modal-content">
            <span class="close-modal" id="closeTicketModal">&times;</span>
            <h2>تیکت پشتیبانی جدید</h2>
            <form id="ticketForm">
                <div class="form-group">
                    <label for="ticketTitle">عنوان تیکت</label>
                    <input type="text" id="ticketTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="ticketProduct">محصول مرتبط</label>
                    <select id="ticketProduct" class="form-control">
                        <option value="">انتخاب محصول (اختیاری)</option>
                        <!-- Products will be loaded here by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="ticketDescription">توضیحات</label>
                    <textarea id="ticketDescription" class="form-control" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">ارسال تیکت</button>
            </form>
        </div>
    </div>

    <!-- Admin Message Modal -->
    <div class="modal" id="adminMessageModal">
        <div class="modal-content">
            <span class="close-modal" id="closeAdminMessageModal">&times;</span>
            <h2>ارسال پیام به کاربر</h2>
            <form id="adminMessageForm">
                <div class="form-group">
                    <label for="messageUser">کاربر:</label>
                    <input type="text" id="messageUser" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="messageOrder">سفارش مرتبط:</label>
                    <input type="text" id="messageOrder" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="adminMessage">پیام:</label>
                    <textarea id="adminMessage" class="form-control" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">ارسال پیام</button>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <section class="admin-panel" id="adminPanel">
        <div class="container">
            <div class="admin-header">
                <h2>پنل مدیریت VoidCode</h2>
                <button class="btn btn-outline" id="logoutAdmin">خروج از پنل</button>
            </div>
            <div class="admin-nav">
                <a href="#" class="active" data-tab="orders">سفارشات</a>
                <a href="#" data-tab="products">محصولات</a>
                <a href="#" data-tab="users">کاربران</a>
                <a href="#" data-tab="discounts">کدهای تخفیف</a>
                <a href="#" data-tab="tickets">تیکت‌ها</a>
            </div>
            <div class="admin-content">
                <div id="ordersTab" class="admin-tab active">
                    <h3>مدیریت سفارشات</h3>
                    <div style="overflow-x: auto;">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>شماره سفارش</th>
                                    <th>کاربر</th>
                                    <th>محصول</th>
                                    <th>تاریخ</th>
                                    <th>مبلغ</th>
                                    <th>وضعیت</th>
                                    <th>لینک رسید</th>
                                    <th>عملیات</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Orders will be loaded here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="productsTab" class="admin-tab" style="display: none;">
                    <h3>مدیریت محصولات</h3>
                    <button class="btn btn-primary" id="addProductBtn">افزودن محصول جدید</button>
                    <!-- Products management content -->
                </div>
                <div id="usersTab" class="admin-tab" style="display: none;">
                    <h3>مدیریت کاربران</h3>
                    <!-- Users management content -->
                </div>
                <div id="discountsTab" class="admin-tab" style="display: none;">
                    <h3>مدیریت کدهای تخفیف</h3>
                    <div class="discount-form">
                        <h4>ایجاد کد تخفیف جدید</h4>
                        <form id="discountForm">
                            <div class="form-group">
                                <label for="discountCode">کد تخفیف</label>
                                <input type="text" id="discountCode" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="discountPercent">درصد تخفیف</label>
                                <input type="number" id="discountPercent" class="form-control" min="1" max="100" required>
                            </div>
                            <div class="form-group">
                                <label for="discountExpiry">تاریخ انقضا</label>
                                <input type="date" id="discountExpiry" class="form-control" required>
                            </div>
                            <button type="submit" class="btn btn-primary">ایجاد کد تخفیف</button>
                        </form>
                    </div>
                    <!-- Discount codes management content -->
                </div>
                <div id="ticketsTab" class="admin-tab" style="display: none;">
                    <h3>مدیریت تیکت‌ها</h3>
                    <div id="adminTicketsContainer">
                        <!-- Admin tickets will be loaded here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- User Dashboard -->
    <section class="user-dashboard" id="userDashboard">
        <div class="container">
            <div class="admin-header">
                <h2>پنل کاربری</h2>
                <button class="btn btn-outline" id="logoutUser">خروج از حساب</button>
            </div>
            <div class="dashboard-nav">
                <a href="#" class="active" data-tab="userOrders">سفارشات من</a>
                <a href="#" data-tab="userTickets">تیکت‌های من</a>
                <a href="#" data-tab="userNotifications">اعلان‌ها</a>
                <a href="#" data-tab="userProfile">پروفایل</a>
            </div>
            <div class="dashboard-content">
                <div id="userOrdersTab" class="admin-tab active">
                    <h3>سفارشات من</h3>
                    <div style="overflow-x: auto;">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>شماره سفارش</th>
                                    <th>محصول</th>
                                    <th>تاریخ</th>
                                    <th>مبلغ</th>
                                    <th>وضعیت</th>
                                    <th>عملیات</th>
                                </tr>
                            </thead>
                            <tbody id="userOrdersTableBody">
                                <!-- User orders will be loaded here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="userTicketsTab" class="admin-tab" style="display: none;">
                    <h3>تیکت‌های من</h3>
                    <button class="btn btn-primary" id="newUserTicketBtn">تیکت جدید</button>
                    <div id="userTicketsContainer">
                        <!-- User tickets will be loaded here by JavaScript -->
                    </div>
                </div>
                <div id="userNotificationsTab" class="admin-tab" style="display: none;">
                    <h3>اعلان‌ها و پیام‌ها</h3>
                    <div id="userNotificationsContainer">
                        <!-- User notifications will be loaded here by JavaScript -->
                    </div>
                </div>
                <div id="userProfileTab" class="admin-tab" style="display: none;">
                    <h3>پروفایل کاربری</h3>
                    <!-- User profile content -->
                </div>
            </div>
        </div>
    </section>

    <script>
        // Initialize data from localStorage or set defaults
        function initializeData() {
            if (!localStorage.getItem('voidcode_products')) {
                localStorage.setItem('voidcode_products', JSON.stringify(products));
            }
            
            if (!localStorage.getItem('voidcode_orders')) {
                localStorage.setItem('voidcode_orders', JSON.stringify([]));
            }
            
            if (!localStorage.getItem('voidcode_tickets')) {
                localStorage.setItem('voidcode_tickets', JSON.stringify([]));
            }
            
            if (!localStorage.getItem('voidcode_discounts')) {
                localStorage.setItem('voidcode_discounts', JSON.stringify([]));
            }
            
            if (!localStorage.getItem('voidcode_users')) {
                localStorage.setItem('voidcode_users', JSON.stringify([]));
            }
            
            if (!localStorage.getItem('voidcode_notifications')) {
                localStorage.setItem('voidcode_notifications', JSON.stringify([]));
            }
        }

        // Sample product data
        const products = [
            {
                id: 1,
                name: "سرور مجازی ایران",
                price: 100000,
                category: "vps",
                features: ["پورت اختصاصی", "انتی دیداس و فایروال پیشرفته", "رم اضافه", "هارد اضافه"],
                icon: "fa-server",
                options: [
                    {
                        name: "پورت اختصاصی",
                        type: "select",
                        values: [
                            { name: "بدون پورت اختصاصی", price: 0 },
                            { name: "پورت 1 گیگابیت", price: 20000 },
                            { name: "پورت 10 گیگابیت", price: 50000 }
                        ]
                    },
                    {
                        name: "انتی دیداس و فایروال",
                        type: "select",
                        values: [
                            { name: "بدون انتی دیداس", price: 0 },
                            { name: "انتی دیداس پایه", price: 30000 },
                            { name: "انتی دیداس پیشرفته", price: 60000 }
                        ]
                    },
                    {
                        name: "رم",
                        type: "select",
                        values: [
                            { name: "2GB", price: 0 },
                            { name: "4GB", price: 40000 },
                            { name: "8GB", price: 80000 }
                        ]
                    },
                    {
                        name: "هارد",
                        type: "select",
                        values: [
                            { name: "20GB", price: 0 },
                            { name: "50GB", price: 30000 },
                            { name: "100GB", price: 60000 }
                        ]
                    }
                ]
            },
            {
                id: 2,
                name: "سرور مجازی کرکی کانادا",
                price: 120000,
                category: "vps",
                features: ["پورت اختصاصی", "انتی دیداس و فایروال پیشرفته", "رم اضافه", "هارد اضافه"],
                icon: "fa-globe-americas",
                options: [
                    {
                        name: "پورت اختصاصی",
                        type: "select",
                        values: [
                            { name: "بدون پورت اختصاصی", price: 0 },
                            { name: "پورت 1 گیگابیت", price: 25000 },
                            { name: "پورت 10 گیگابیت", price: 60000 }
                        ]
                    },
                    {
                        name: "انتی دیداس و فایروال",
                        type: "select",
                        values: [
                            { name: "بدون انتی دیداس", price: 0 },
                            { name: "انتی دیداس پایه", price: 35000 },
                            { name: "انتی دیداس پیشرفته", price: 70000 }
                        ]
                    }
                ]
            },
            {
                id: 3,
                name: "هاست ایران",
                price: 90000,
                category: "hosting",
                features: ["فضای ذخیره‌سازی بالا", "پشتیبانی 24/7", "بکاپ خودکار"],
                icon: "fa-hdd",
                options: [
                    {
                        name: "فضای ذخیره‌سازی",
                        type: "select",
                        values: [
                            { name: "10GB", price: 0 },
                            { name: "50GB", price: 20000 },
                            { name: "100GB", price: 40000 }
                        ]
                    },
                    {
                        name: "پهنای باند",
                        type: "select",
                        values: [
                            { name: "100GB", price: 0 },
                            { name: "500GB", price: 15000 },
                            { name: "1TB", price: 30000 }
                        ]
                    }
                ]
            },
            {
                id: 4,
                name: "سرور اماده سمپ",
                price: 50000,
                category: "servers",
                features: ["نصب شده و آماده استفاده", "پشتیبانی فنی", "آپدیت منظم"],
                icon: "fa-gamepad",
                options: [
                    {
                        name: "نسخه سمپ",
                        type: "select",
                        values: [
                            { name: "0.3.7-R4", price: 0 },
                            { name: "0.3.DL", price: 10000 },
                            { name: "جدیدترین نسخه", price: 20000 }
                        ]
                    }
                ]
            },
            {
                id: 5,
                name: "سرور اماده ام تی ای",
                price: 300000,
                category: "servers",
                features: ["نصب شده و آماده استفاده", "پشتیبانی فنی", "آپدیت منظم"],
                icon: "fa-code",
                options: [
                    {
                        name: "نسخه ام تی ای",
                        type: "select",
                        values: [
                            { name: "1.5.6", price: 0 },
                            { name: "جدیدترین نسخه", price: 50000 }
                        ]
                    },
                    {
                        name: "ماژول‌های اضافی",
                        type: "select",
                        values: [
                            { name: "پکیج پایه", price: 0 },
                            { name: "پکیج طلایی", price: 70000 },
                            { name: "پکیج الماس", price: 120000 }
                        ]
                    }
                ]
            },
            {
                id: 6,
                name: "سرور 64 اسلات تیم اسپیک",
                price: 21000,
                category: "servers",
                features: ["64 اسلات", "پایداری بالا", "پینگ پایین"],
                icon: "fa-users",
                options: [
                    {
                        name: "اسلات اضافی",
                        type: "select",
                        values: [
                            { name: "64 اسلات", price: 0 },
                            { name: "128 اسلات", price: 15000 },
                            { name: "256 اسلات", price: 30000 }
                        ]
                    }
                ]
            },
            {
                id: 7,
                name: "گیم پس التیمیت قانونی",
                price: 540000,
                category: "gamepass",
                features: ["اورجینال و قانونی", "پشتیبانی دائمی", "آپدیت رایگان"],
                icon: "fa-crown",
                options: [
                    {
                        name: "مدت زمان",
                        type: "select",
                        values: [
                            { name: "1 ماه", price: 0 },
                            { name: "3 ماه", price: 100000 },
                            { name: "1 سال", price: 300000 }
                        ]
                    }
                ]
            },
            {
                id: 8,
                name: "گیم پس ایکس باکس",
                price: 320000,
                category: "gamepass",
                features: ["اورجینال و قانونی", "پشتیبانی دائمی", "آپدیت رایگان"],
                icon: "fa-gamepad",
                options: [
                    {
                        name: "مدت زمان",
                        type: "select",
                        values: [
                            { name: "1 ماه", price: 0 },
                            { name: "3 ماه", price: 80000 },
                            { name: "1 سال", price: 200000 }
                        ]
                    }
                ]
            },
            {
                id: 9,
                name: "هاست حرفه‌ای ایران",
                price: 150000,
                category: "hosting",
                features: ["فضای ذخیره‌سازی NVMe", "پشتیبانی 24/7", "بکاپ خودکار"],
                icon: "fa-hdd",
                options: [
                    {
                        name: "فضای ذخیره‌سازی",
                        type: "select",
                        values: [
                            { name: "50GB", price: 0 },
                            { name: "100GB", price: 30000 },
                            { name: "200GB", price: 60000 }
                        ]
                    }
                ]
            },
            {
                id: 10,
                name: "سرور مجازی اروپا",
                price: 180000,
                category: "vps",
                features: ["پورت اختصاصی", "انتی دیداس و فایروال پیشرفته", "رم اضافه", "هارد اضافه"],
                icon: "fa-server",
                options: [
                    {
                        name: "پورت اختصاصی",
                        type: "select",
                        values: [
                            { name: "بدون پورت اختصاصی", price: 0 },
                            { name: "پورت 1 گیگابیت", price: 30000 },
                            { name: "پورت 10 گیگابیت", price: 70000 }
                        ]
                    }
                ]
            },
            {
                id: 11,
                name: "گیم پس پلی استیشن",
                price: 280000,
                category: "gamepass",
                features: ["اورجینال و قانونی", "پشتیبانی دائمی", "آپدیت رایگان"],
                icon: "fa-playstation",
                options: [
                    {
                        name: "مدت زمان",
                        type: "select",
                        values: [
                            { name: "1 ماه", price: 0 },
                            { name: "3 ماه", price: 70000 },
                            { name: "1 سال", price: 180000 }
                        ]
                    }
                ]
            },
            {
                id: 12,
                name: "سرور اختصاصی ایران",
                price: 450000,
                category: "vps",
                features: ["پردازنده قوی", "رم بالا", "هارد NVMe", "پشتیبانی 24/7"],
                icon: "fa-server",
                options: [
                    {
                        name: "پردازنده",
                        type: "select",
                        values: [
                            { name: "Intel Xeon E5", price: 0 },
                            { name: "Intel Xeon Gold", price: 100000 },
                            { name: "AMD EPYC", price: 150000 }
                        ]
                    }
                ]
            },
            {
                id: 13,
                name: "هاست وردپرس",
                price: 120000,
                category: "hosting",
                features: ["بهینه شده برای وردپرس", "پشتیبانی وردپرس", "نصب خودکار"],
                icon: "fa-wordpress",
                options: [
                    {
                        name: "فضای ذخیره‌سازی",
                        type: "select",
                        values: [
                            { name: "10GB", price: 0 },
                            { name: "25GB", price: 30000 },
                            { name: "50GB", price: 60000 }
                        ]
                    }
                ]
            },
            {
                id: 14,
                name: "سرور اختصاصی کانادا",
                price: 520000,
                category: "vps",
                features: ["پردازنده قوی", "رم بالا", "هارد NVMe", "پشتیبانی 24/7"],
                icon: "fa-server",
                options: [
                    {
                        name: "پردازنده",
                        type: "select",
                        values: [
                            { name: "Intel Xeon E5", price: 0 },
                            { name: "Intel Xeon Gold", price: 120000 },
                            { name: "AMD EPYC", price: 180000 }
                        ]
                    }
                ]
            },
            {
                id: 15,
                name: "گیم پس استیم",
                price: 190000,
                category: "gamepass",
                features: ["اورجینال و قانونی", "پشتیبانی دائمی", "آپدیت رایگان"],
                icon: "fa-steam",
                options: [
                    {
                        name: "مدت زمان",
                        type: "select",
                        values: [
                            { name: "1 ماه", price: 0 },
                            { name: "3 ماه", price: 50000 },
                            { name: "1 سال", price: 120000 }
                        ]
                    }
                ]
            }
        ];

        // Categories data
        const categories = [
            { id: "vps", name: "سرورهای مجازی", icon: "fa-server", description: "سرورهای مجازی با بهترین کیفیت و پینگ" },
            { id: "hosting", name: "هاستینگ", icon: "fa-hdd", description: "هاستینگ حرفه‌ای برای وبسایت‌ها" },
            { id: "gamepass", name: "گیم پس", icon: "fa-crown", description: "گیم پس قانونی و اورجینال" },
            { id: "servers", name: "سرورهای آماده", icon: "fa-gamepad", description: "سرورهای آماده برای بازی‌های مختلف" }
        ];

        // DOM Elements
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const adminBtn = document.getElementById('adminBtn');
        const userDashboardBtn = document.getElementById('userDashboardBtn');
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');
        const purchaseModal = document.getElementById('purchaseModal');
        const ticketModal = document.getElementById('ticketModal');
        const adminMessageModal = document.getElementById('adminMessageModal');
        const closeLoginModal = document.getElementById('closeLoginModal');
        const closeRegisterModal = document.getElementById('closeRegisterModal');
        const closePurchaseModal = document.getElementById('closePurchaseModal');
        const closeTicketModal = document.getElementById('closeTicketModal');
        const closeAdminMessageModal = document.getElementById('closeAdminMessageModal');
        const goToRegister = document.getElementById('goToRegister');
        const goToLogin = document.getElementById('goToLogin');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const ticketForm = document.getElementById('ticketForm');
        const discountForm = document.getElementById('discountForm');
        const adminMessageForm = document.getElementById('adminMessageForm');
        const adminPanel = document.getElementById('adminPanel');
        const userDashboard = document.getElementById('userDashboard');
        const logoutAdmin = document.getElementById('logoutAdmin');
        const logoutUser = document.getElementById('logoutUser');
        const categoriesGrid = document.getElementById('categoriesGrid');
        const productsGrid = document.getElementById('productsGrid');
        const ordersTableBody = document.getElementById('ordersTableBody');
        const userOrdersTableBody = document.getElementById('userOrdersTableBody');
        const ticketsContainer = document.getElementById('ticketsContainer');
        const adminTicketsContainer = document.getElementById('adminTicketsContainer');
        const userTicketsContainer = document.getElementById('userTicketsContainer');
        const userNotificationsContainer = document.getElementById('userNotificationsContainer');
        const adminNavLinks = document.querySelectorAll('.admin-nav a');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const dashboardNavLinks = document.querySelectorAll('.dashboard-nav a');
        const dashboardTabs = document.querySelectorAll('.admin-tab');
        const searchInput = document.getElementById('searchInput');
        const navLinks = document.querySelectorAll('.nav-link');
        const exploreProductsBtn = document.getElementById('exploreProducts');
        const purchaseOptions = document.getElementById('purchaseOptions');
        const totalPriceElement = document.getElementById('totalPrice');
        const confirmPurchaseBtn = document.getElementById('confirmPurchase');
        const purchaseProductName = document.getElementById('purchaseProductName');
        const paymentProofUrl = document.getElementById('paymentProofUrl');
        const newTicketBtn = document.getElementById('newTicketBtn');
        const newUserTicketBtn = document.getElementById('newUserTicketBtn');
        const ticketProduct = document.getElementById('ticketProduct');

        // Current user and product for purchase
        let currentUser = null;
        let currentProduct = null;
        let currentOptionsPrice = 0;

        // Initialize data and load content on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeData();
            loadCategories();
            loadProducts();
            loadOrders();
            loadUserOrders();
            loadTickets();
            loadAdminTickets();
            loadUserTickets();
            loadUserNotifications();
            populateTicketProducts();
        });

        // Load categories to the categories grid
        function loadCategories() {
            categoriesGrid.innerHTML = '';
            categories.forEach(category => {
                const categoryCard = document.createElement('div');
                categoryCard.className = 'category-card';
                categoryCard.setAttribute('data-category', category.id);
                categoryCard.innerHTML = `
                    <div class="category-image">
                        <i class="fas ${category.icon}"></i>
                    </div>
                    <div class="category-content">
                        <h3>${category.name}</h3>
                        <p>${category.description}</p>
                    </div>
                `;
                categoriesGrid.appendChild(categoryCard);
                
                // Add click event to category card
                categoryCard.addEventListener('click', function() {
                    showProductsByCategory(category.id);
                });
            });
        }

        // Load products to the products grid
        function loadProducts(filteredProducts = JSON.parse(localStorage.getItem('voidcode_products'))) {
            productsGrid.innerHTML = '';
            if (filteredProducts.length === 0) {
                productsGrid.innerHTML = '<p style="text-align: center; grid-column: 1 / -1;">محصولی یافت نشد</p>';
                return;
            }
            
            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">
                        <i class="fas ${product.icon}"></i>
                    </div>
                    <div class="product-content">
                        <h3>${product.name}</h3>
                        <div class="product-price">${product.price.toLocaleString()} تومان</div>
                        <ul class="product-features">
                            ${product.features.map(feature => `<li><i class="fas fa-check"></i> ${feature}</li>`).join('')}
                        </ul>
                        <button class="btn btn-primary purchase-btn" style="width: 100%;" data-product-id="${product.id}">خرید محصول</button>
                    </div>
                `;
                productsGrid.appendChild(productCard);
            });
            
            // Add event listeners to purchase buttons
            document.querySelectorAll('.purchase-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    openPurchaseModal(productId);
                });
            });
        }

        // Show products by category
        function showProductsByCategory(categoryId) {
            const allProducts = JSON.parse(localStorage.getItem('voidcode_products'));
            const filteredProducts = allProducts.filter(product => product.category === categoryId);
            document.getElementById('categories').style.display = 'none';
            document.getElementById('products').classList.add('active');
            document.getElementById('tickets').classList.remove('active');
            loadProducts(filteredProducts);
        }

        // Load orders to the admin panel
        function loadOrders() {
            const orders = JSON.parse(localStorage.getItem('voidcode_orders'));
            ordersTableBody.innerHTML = '';
            if (orders.length === 0) {
                ordersTableBody.innerHTML = '<tr><td colspan="8" style="text-align: center;">هیچ سفارشی وجود ندارد</td></tr>';
                return;
            }
            
            orders.forEach(order => {
                const statusClass = `status-${order.status}`;
                const statusText = {
                    pending: 'در انتظار',
                    completed: 'تکمیل شده',
                    cancelled: 'لغو شده'
                }[order.status];
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.user}</td>
                    <td>${order.product}</td>
                    <td>${order.date}</td>
                    <td>${order.amount}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td><a href="${order.proofUrl}" target="_blank" style="color: var(--primary);">مشاهده رسید</a></td>
                    <td>
                        <div class="admin-actions">
                            <select class="form-control status-select" data-order-id="${order.id}" style="width: auto; display: inline-block;">
                                <option value="pending" ${order.status === 'pending' ? 'selected' : ''}>در انتظار</option>
                                <option value="completed" ${order.status === 'completed' ? 'selected' : ''}>تکمیل شده</option>
                                <option value="cancelled" ${order.status === 'cancelled' ? 'selected' : ''}>لغو شده</option>
                            </select>
                            <button class="btn btn-primary send-message-btn" data-order-id="${order.id}" data-user="${order.user}" style="padding: 0.3rem 0.8rem;">ارسال پیام</button>
                        </div>
                    </td>
                `;
                ordersTableBody.appendChild(row);
            });
            
            // Add event listeners to status selects
            document.querySelectorAll('.status-select').forEach(select => {
                select.addEventListener('change', function() {
                    const orderId = this.getAttribute('data-order-id');
                    const newStatus = this.value;
                    updateOrderStatus(orderId, newStatus);
                });
            });
            
            // Add event listeners to send message buttons
            document.querySelectorAll('.send-message-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const orderId = this.getAttribute('data-order-id');
                    const user = this.getAttribute('data-user');
                    openAdminMessageModal(orderId, user);
                });
            });
        }

        // Update order status
        function updateOrderStatus(orderId, newStatus) {
            const orders = JSON.parse(localStorage.getItem('voidcode_orders'));
            const orderIndex = orders.findIndex(order => order.id === orderId);
            
            if (orderIndex !== -1) {
                orders[orderIndex].status = newStatus;
                localStorage.setItem('voidcode_orders', JSON.stringify(orders));
                
                // Add notification for user
                const notifications = JSON.parse(localStorage.getItem('voidcode_notifications'));
                const order = orders[orderIndex];
                
                const notification = {
                    id: 'NOT-' + Date.now(),
                    user: order.user,
                    title: 'تغییر وضعیت سفارش',
                    message: `وضعیت سفارش شما با شماره ${orderId} به "${getStatusText(newStatus)}" تغییر یافت.`,
                    date: new Date().toLocaleDateString('fa-IR'),
                    read: false
                };
                
                notifications.push(notification);
                localStorage.setItem('voidcode_notifications', JSON.stringify(notifications));
                
                loadOrders();
                loadUserOrders();
                loadUserNotifications();
                
                alert('وضعیت سفارش با موفقیت به روز شد');
            }
        }

        // Get status text
        function getStatusText(status) {
            const statusMap = {
                pending: 'در انتظار',
                completed: 'تکمیل شده',
                cancelled: 'لغو شده'
            };
            return statusMap[status] || status;
        }

        // Open admin message modal
        function openAdminMessageModal(orderId, user) {
            document.getElementById('messageUser').value = user;
            document.getElementById('messageOrder').value = orderId;
            adminMessageModal.style.display = 'flex';
        }

        // Load user orders to the user dashboard
        function loadUserOrders() {
            const orders = JSON.parse(localStorage.getItem('voidcode_orders'));
            const userOrders = orders.filter(order => order.user === (currentUser ? currentUser.username : ''));
            
            userOrdersTableBody.innerHTML = '';
            if (userOrders.length === 0) {
                userOrdersTableBody.innerHTML = '<tr><td colspan="6" style="text-align: center;">هیچ سفارشی وجود ندارد</td></tr>';
                return;
            }
            
            userOrders.forEach(order => {
                const statusClass = `status-${order.status}`;
                const statusText = {
                    pending: 'در انتظار',
                    completed: 'تکمیل شده',
                    cancelled: 'لغو شده'
                }[order.status];
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.product}</td>
                    <td>${order.date}</td>
                    <td>${order.amount}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>
                        <button class="btn btn-outline" style="padding: 0.3rem 0.8rem;">جزئیات</button>
                    </td>
                `;
                userOrdersTableBody.appendChild(row);
            });
        }

        // Load user notifications
        function loadUserNotifications() {
            const notifications = JSON.parse(localStorage.getItem('voidcode_notifications'));
            const userNotifications = notifications.filter(notification => notification.user === (currentUser ? currentUser.username : ''));
            
            userNotificationsContainer.innerHTML = '';
            if (userNotifications.length === 0) {
                userNotificationsContainer.innerHTML = '<p style="text-align: center;">هیچ اعلانی وجود ندارد</p>';
                return;
            }
            
            userNotifications.forEach(notification => {
                const notificationElement = document.createElement('div');
                notificationElement.className = 'notification';
                notificationElement.innerHTML = `
                    <h4>${notification.title}</h4>
                    <p>${notification.message}</p>
                    <small>${notification.date}</small>
                `;
                userNotificationsContainer.appendChild(notificationElement);
            });
        }

        // Load tickets for public view
        function loadTickets() {
            const tickets = JSON.parse(localStorage.getItem('voidcode_tickets'));
            const userTickets = tickets.filter(ticket => ticket.user === (currentUser ? currentUser.username : ''));
            
            ticketsContainer.innerHTML = '';
            if (userTickets.length === 0) {
                ticketsContainer.innerHTML = '<p style="text-align: center;">هیچ تیکتی وجود ندارد</p>';
                return;
            }
            
            userTickets.forEach(ticket => {
                const ticketCard = document.createElement('div');
                ticketCard.className = 'ticket-card';
                ticketCard.innerHTML = `
                    <div class="ticket-header">
                        <div>
                            <div class="ticket-title">${ticket.title}</div>
                            <div class="ticket-product">${ticket.product || 'بدون محصول مرتبط'}</div>
                        </div>
                        <div>
                            <div class="ticket-date">${ticket.date}</div>
                            <div class="ticket-status ${ticket.status === 'open' ? 'ticket-open' : 'ticket-closed'}">${ticket.status === 'open' ? 'باز' : 'بسته'}</div>
                        </div>
                    </div>
                    <div class="ticket-description">${ticket.description}</div>
                    ${ticket.reply ? `<div class="ticket-reply admin">${ticket.reply}</div>` : ''}
                `;
                ticketsContainer.appendChild(ticketCard);
            });
        }

        // Load tickets for admin view
        function loadAdminTickets() {
            const tickets = JSON.parse(localStorage.getItem('voidcode_tickets'));
            
            adminTicketsContainer.innerHTML = '';
            if (tickets.length === 0) {
                adminTicketsContainer.innerHTML = '<p style="text-align: center;">هیچ تیکتی وجود ندارد</p>';
                return;
            }
            
            tickets.forEach(ticket => {
                const ticketCard = document.createElement('div');
                ticketCard.className = 'ticket-card';
                ticketCard.innerHTML = `
                    <div class="ticket-header">
                        <div>
                            <div class="ticket-title">${ticket.title}</div>
                            <div class="ticket-product">${ticket.product || 'بدون محصول مرتبط'}</div>
                            <div class="ticket-user">کاربر: ${ticket.user}</div>
                        </div>
                        <div>
                            <div class="ticket-date">${ticket.date}</div>
                            <div class="ticket-status ${ticket.status === 'open' ? 'ticket-open' : 'ticket-closed'}">${ticket.status === 'open' ? 'باز' : 'بسته'}</div>
                        </div>
                    </div>
                    <div class="ticket-description">${ticket.description}</div>
                    ${ticket.reply ? 
                        `<div class="ticket-reply admin">${ticket.reply}</div>` : 
                        `<div class="form-group">
                            <label>پاسخ به تیکت:</label>
                            <textarea class="form-control ticket-reply-input" rows="3" placeholder="پاسخ خود را وارد کنید..."></textarea>
                            <button class="btn btn-primary submit-reply" data-ticket-id="${ticket.id}" style="margin-top: 0.5rem;">ارسال پاسخ</button>
                        </div>`
                    }
                `;
                adminTicketsContainer.appendChild(ticketCard);
            });
            
            // Add event listeners to reply buttons
            document.querySelectorAll('.submit-reply').forEach(button => {
                button.addEventListener('click', function() {
                    const ticketId = this.getAttribute('data-ticket-id');
                    const replyText = this.parentElement.querySelector('.ticket-reply-input').value;
                    
                    if (replyText.trim() === '') {
                        alert('لطفا پاسخ خود را وارد کنید');
                        return;
                    }
                    
                    const tickets = JSON.parse(localStorage.getItem('voidcode_tickets'));
                    const ticketIndex = tickets.findIndex(t => t.id == ticketId);
                    
                    if (ticketIndex !== -1) {
                        tickets[ticketIndex].reply = replyText;
                        tickets[ticketIndex].status = 'closed';
                        localStorage.setItem('voidcode_tickets', JSON.stringify(tickets));
                        
                        // Add notification for user
                        const notifications = JSON.parse(localStorage.getItem('voidcode_notifications'));
                        const ticket = tickets[ticketIndex];
                        
                        const notification = {
                            id: 'NOT-' + Date.now(),
                            user: ticket.user,
                            title: 'پاسخ به تیکت',
                            message: `به تیکت شما با عنوان "${ticket.title}" پاسخ داده شد.`,
                            date: new Date().toLocaleDateString('fa-IR'),
                            read: false
                        };
                        
                        notifications.push(notification);
                        localStorage.setItem('voidcode_notifications', JSON.stringify(notifications));
                        
                        loadAdminTickets();
                        loadUserNotifications();
                        alert('پاسخ با موفقیت ارسال شد');
                    }
                });
            });
        }

        // Load tickets for user dashboard
        function loadUserTickets() {
            const tickets = JSON.parse(localStorage.getItem('voidcode_tickets'));
            const userTickets = tickets.filter(ticket => ticket.user === (currentUser ? currentUser.username : ''));
            
            userTicketsContainer.innerHTML = '';
            if (userTickets.length === 0) {
                userTicketsContainer.innerHTML = '<p style="text-align: center;">هیچ تیکتی وجود ندارد</p>';
                return;
            }
            
            userTickets.forEach(ticket => {
                const ticketCard = document.createElement('div');
                ticketCard.className = 'ticket-card';
                ticketCard.innerHTML = `
                    <div class="ticket-header">
                        <div>
                            <div class="ticket-title">${ticket.title}</div>
                            <div class="ticket-product">${ticket.product || 'بدون محصول مرتبط'}</div>
                        </div>
                        <div>
                            <div class="ticket-date">${ticket.date}</div>
                            <div class="ticket-status ${ticket.status === 'open' ? 'ticket-open' : 'ticket-closed'}">${ticket.status === 'open' ? 'باز' : 'بسته'}</div>
                        </div>
                    </div>
                    <div class="ticket-description">${ticket.description}</div>
                    ${ticket.reply ? `<div class="ticket-reply admin">${ticket.reply}</div>` : ''}
                `;
                userTicketsContainer.appendChild(ticketCard);
            });
        }

        // Populate product options in ticket modal
        function populateTicketProducts() {
            const products = JSON.parse(localStorage.getItem('voidcode_products'));
            ticketProduct.innerHTML = '<option value="">انتخاب محصول (اختیاری)</option>';
            
            products.forEach(product => {
                const option = document.createElement('option');
                option.value = product.name;
                option.textContent = product.name;
                ticketProduct.appendChild(option);
            });
        }

        // Open purchase modal
        function openPurchaseModal(productId) {
            if (!currentUser) {
                alert('برای خرید محصول باید وارد حساب کاربری خود شوید');
                loginModal.style.display = 'flex';
                return;
            }
            
            const products = JSON.parse(localStorage.getItem('voidcode_products'));
            currentProduct = products.find(p => p.id === productId);
            if (!currentProduct) return;
            
            purchaseProductName.textContent = `خرید ${currentProduct.name}`;
            purchaseOptions.innerHTML = '';
            currentOptionsPrice = 0;
            
            // Add product options
            if (currentProduct.options && currentProduct.options.length > 0) {
                currentProduct.options.forEach(option => {
                    const optionGroup = document.createElement('div');
                    optionGroup.className = 'option-group';
                    optionGroup.innerHTML = `
                        <label for="option-${option.name}">${option.name}</label>
                        <select class="option-select" id="option-${option.name}" data-option-name="${option.name}">
                            ${option.values.map(value => 
                                `<option value="${value.price}">${value.name} (${value.price > 0 ? '+' + value.price.toLocaleString() + ' تومان' : 'رایگان'})</option>`
                            ).join('')}
                        </select>
                    `;
                    purchaseOptions.appendChild(optionGroup);
                });
                
                // Add event listeners to option selects
                document.querySelectorAll('.option-select').forEach(select => {
                    select.addEventListener('change', updateTotalPrice);
                });
            } else {
                purchaseOptions.innerHTML = '<p>هیچ گزینه اضافی برای این محصول وجود ندارد</p>';
            }
            
            updateTotalPrice();
            purchaseModal.style.display = 'flex';
        }

        // Update total price based on selected options
        function updateTotalPrice() {
            currentOptionsPrice = 0;
            document.querySelectorAll('.option-select').forEach(select => {
                currentOptionsPrice += parseInt(select.value);
            });
            
            const totalPrice = currentProduct.price + currentOptionsPrice;
            totalPriceElement.textContent = totalPrice.toLocaleString();
        }

        // Confirm purchase
        confirmPurchaseBtn.addEventListener('click', function() {
            if (!currentUser || !currentProduct) return;
            
            const paymentProofUrlValue = document.getElementById('paymentProofUrl').value;
            if (!paymentProofUrlValue) {
                alert('لطفا لینک رسید پرداخت را وارد کنید');
                return;
            }
            
            // Validate URL format
            if (!isValidUrl(paymentProofUrlValue)) {
                alert('لطفا یک لینک معتبر وارد کنید');
                return;
            }
            
            // Generate order ID
            const orders = JSON.parse(localStorage.getItem('voidcode_orders'));
            const orderId = 'ORD-' + String(orders.length + 1).padStart(3, '0');
            const totalPrice = currentProduct.price + currentOptionsPrice;
            
            // Create new order
            const newOrder = {
                id: orderId,
                user: currentUser.username,
                product: currentProduct.name,
                date: new Date().toLocaleDateString('fa-IR'),
                amount: totalPrice.toLocaleString() + ' تومان',
                status: 'pending',
                proofUrl: paymentProofUrlValue
            };
            
            // Add to orders
            orders.push(newOrder);
            localStorage.setItem('voidcode_orders', JSON.stringify(orders));
            
            // Update tables
            loadOrders();
            loadUserOrders();
            
            // Close modal and show success message
            purchaseModal.style.display = 'none';
            alert(`سفارش شما با شماره ${orderId} ثبت شد و در انتظار تایید است`);
        });

        // Validate URL format
        function isValidUrl(string) {
            try {
                new URL(string);
                return true;
            } catch (_) {
                return false;
            }
        }

        // Admin message form submission
        adminMessageForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const user = document.getElementById('messageUser').value;
            const orderId = document.getElementById('messageOrder').value;
            const message = document.getElementById('adminMessage').value;
            
            const notifications = JSON.parse(localStorage.getItem('voidcode_notifications'));
            
            const notification = {
                id: 'NOT-' + Date.now(),
                user: user,
                title: 'پیام از ادمین',
                message: `پیام مربوط به سفارش ${orderId}: ${message}`,
                date: new Date().toLocaleDateString('fa-IR'),
                read: false
            };
            
            notifications.push(notification);
            localStorage.setItem('voidcode_notifications', JSON.stringify(notifications));
            
            adminMessageModal.style.display = 'none';
            alert('پیام با موفقیت ارسال شد');
            
            // Reset form
            adminMessageForm.reset();
            
            // Reload notifications
            loadUserNotifications();
        });

        // Modal controls
        loginBtn.addEventListener('click', () => {
            loginModal.style.display = 'flex';
        });

        registerBtn.addEventListener('click', () => {
            registerModal.style.display = 'flex';
        });

        closeLoginModal.addEventListener('click', () => {
            loginModal.style.display = 'none';
        });

        closeRegisterModal.addEventListener('click', () => {
            registerModal.style.display = 'none';
        });

        closePurchaseModal.addEventListener('click', () => {
            purchaseModal.style.display = 'none';
        });

        closeTicketModal.addEventListener('click', () => {
            ticketModal.style.display = 'none';
        });

        closeAdminMessageModal.addEventListener('click', () => {
            adminMessageModal.style.display = 'none';
        });

        goToRegister.addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.style.display = 'none';
            registerModal.style.display = 'flex';
        });

        goToLogin.addEventListener('click', (e) => {
            e.preventDefault();
            registerModal.style.display = 'none';
            loginModal.style.display = 'flex';
        });

        // Navigation controls
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const target = this.getAttribute('data-target');
                
                // Hide all sections
                document.getElementById('home').style.display = 'none';
                document.getElementById('categories').style.display = 'none';
                document.getElementById('products').classList.remove('active');
                document.getElementById('tickets').classList.remove('active');
                
                // Show target section
                if (target === 'home') {
                    document.getElementById('home').style.display = 'flex';
                } else if (target === 'categories') {
                    document.getElementById('categories').style.display = 'block';
                } else if (target === 'products') {
                    document.getElementById('products').classList.add('active');
                    loadProducts();
                } else if (target === 'tickets') {
                    if (!currentUser) {
                        alert('برای مشاهده تیکت‌ها باید وارد حساب کاربری خود شوید');
                        loginModal.style.display = 'flex';
                        return;
                    }
                    document.getElementById('tickets').classList.add('active');
                    loadTickets();
                }
            });
        });

        // Explore products button
        exploreProductsBtn.addEventListener('click', function() {
            document.getElementById('home').style.display = 'none';
            document.getElementById('categories').style.display = 'block';
        });

        // Search functionality
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            if (searchTerm.length < 2) {
                loadProducts();
                return;
            }
            
            const products = JSON.parse(localStorage.getItem('voidcode_products'));
            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(searchTerm) || 
                product.category.toLowerCase().includes(searchTerm) ||
                product.features.some(feature => feature.toLowerCase().includes(searchTerm))
            );
            
            document.getElementById('categories').style.display = 'none';
            document.getElementById('products').classList.add('active');
            document.getElementById('tickets').classList.remove('active');
            loadProducts(filteredProducts);
        });

        // Category links in footer
        document.querySelectorAll('.footer-column a[data-category]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const category = this.getAttribute('data-category');
                showProductsByCategory(category);
            });
        });

        // New ticket button
        newTicketBtn.addEventListener('click', function() {
            if (!currentUser) {
                alert('برای ایجاد تیکت باید وارد حساب کاربری خود شوید');
                loginModal.style.display = 'flex';
                return;
            }
            ticketModal.style.display = 'flex';
        });

        // New ticket button in user dashboard
        newUserTicketBtn.addEventListener('click', function() {
            ticketModal.style.display = 'flex';
        });

        // Ticket form submission
        ticketForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('ticketTitle').value;
            const product = document.getElementById('ticketProduct').value;
            const description = document.getElementById('ticketDescription').value;
            
            const tickets = JSON.parse(localStorage.getItem('voidcode_tickets'));
            const ticketId = 'TKT-' + String(tickets.length + 1).padStart(3, '0');
            
            const newTicket = {
                id: ticketId,
                user: currentUser.username,
                title: title,
                product: product,
                description: description,
                date: new Date().toLocaleDateString('fa-IR'),
                status: 'open'
            };
            
            tickets.push(newTicket);
            localStorage.setItem('voidcode_tickets', JSON.stringify(tickets));
            
            ticketModal.style.display = 'none';
            alert('تیکت شما با موفقیت ثبت شد');
            
            // Reset form
            ticketForm.reset();
            
            // Reload tickets
            loadTickets();
            loadAdminTickets();
            loadUserTickets();
        });

        // Discount form submission
        discountForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const code = document.getElementById('discountCode').value;
            const percent = document.getElementById('discountPercent').value;
            const expiry = document.getElementById('discountExpiry').value;
            
            const discounts = JSON.parse(localStorage.getItem('voidcode_discounts'));
            
            const newDiscount = {
                code: code,
                percent: percent,
                expiry: expiry
            };
            
            discounts.push(newDiscount);
            localStorage.setItem('voidcode_discounts', JSON.stringify(discounts));
            
            alert('کد تخفیف با موفقیت ایجاد شد');
            
            // Reset form
            discountForm.reset();
        });

        // Admin login
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            // Check if admin credentials
            if (username === 'Mamad' && password === 'polese1234') {
                currentUser = { username: 'Mamad', isAdmin: true };
                loginModal.style.display = 'none';
                adminBtn.style.display = 'block';
                userDashboardBtn.style.display = 'none';
                alert('با موفقیت وارد پنل ادمین شدید!');
            } else {
                // Regular user login (in a real app, this would check against a database)
                const users = JSON.parse(localStorage.getItem('voidcode_users'));
                const user = users.find(u => u.username === username && u.password === password);
                
                if (user) {
                    currentUser = { username: user.username, isAdmin: false };
                    loginModal.style.display = 'none';
                    userDashboardBtn.style.display = 'block';
                    adminBtn.style.display = 'none';
                    alert(`خوش آمدید ${username}!`);
                } else {
                    alert('نام کاربری یا رمز عبور اشتباه است!');
                }
            }
        });

        // Admin panel navigation
        adminNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove active class from all links
                adminNavLinks.forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                link.classList.add('active');
                
                // Hide all tabs
                adminTabs.forEach(tab => tab.style.display = 'none');
                
                // Show selected tab
                const tabId = link.getAttribute('data-tab') + 'Tab';
                document.getElementById(tabId).style.display = 'block';
                
                // Reload data for specific tabs
                if (tabId === 'ordersTab') {
                    loadOrders();
                } else if (tabId === 'ticketsTab') {
                    loadAdminTickets();
                }
            });
        });

        // User dashboard navigation
        dashboardNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove active class from all links
                dashboardNavLinks.forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                link.classList.add('active');
                
                // Hide all tabs
                dashboardTabs.forEach(tab => tab.style.display = 'none');
                
                // Show selected tab
                const tabId = link.getAttribute('data-tab') + 'Tab';
                document.getElementById(tabId).style.display = 'block';
                
                // Reload data for specific tabs
                if (tabId === 'userOrdersTab') {
                    loadUserOrders();
                } else if (tabId === 'userTicketsTab') {
                    loadUserTickets();
                } else if (tabId === 'userNotificationsTab') {
                    loadUserNotifications();
                }
            });
        });

        // Logout from admin panel
        logoutAdmin.addEventListener('click', () => {
            adminPanel.style.display = 'none';
            document.querySelector('header').style.display = 'block';
            document.querySelector('.hero').style.display = 'flex';
            document.querySelector('.categories').style.display = 'block';
            document.querySelector('footer').style.display = 'block';
            adminBtn.style.display = 'none';
            currentUser = null;
        });

        // Logout from user dashboard
        logoutUser.addEventListener('click', () => {
            userDashboard.style.display = 'none';
            document.querySelector('header').style.display = 'block';
            document.querySelector('.hero').style.display = 'flex';
            document.querySelector('.categories').style.display = 'block';
            document.querySelector('footer').style.display = 'block';
            userDashboardBtn.style.display = 'none';
            currentUser = null;
        });

        // Go to admin panel from header
        adminBtn.addEventListener('click', () => {
            adminPanel.style.display = 'block';
            userDashboard.style.display = 'none';
            document.querySelector('header').style.display = 'none';
            document.querySelector('.hero').style.display = 'none';
            document.querySelector('.categories').style.display = 'none';
            document.getElementById('products').classList.remove('active');
            document.getElementById('tickets').classList.remove('active');
            document.querySelector('footer').style.display = 'none';
        });

        // Go to user dashboard from header
        userDashboardBtn.addEventListener('click', () => {
            userDashboard.style.display = 'block';
            adminPanel.style.display = 'none';
            document.querySelector('header').style.display = 'none';
            document.querySelector('.hero').style.display = 'none';
            document.querySelector('.categories').style.display = 'none';
            document.getElementById('products').classList.remove('active');
            document.getElementById('tickets').classList.remove('active');
            document.querySelector('footer').style.display = 'none';
        });

        // Register form validation
        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('registerEmail').value;
            const username = document.getElementById('registerUsername').value;
            const password = document.getElementById('registerPassword').value;
            const firstName = document.getElementById('registerFirstName').value;
            const lastName = document.getElementById('registerLastName').value;
            const nationalCode = document.getElementById('registerNationalCode').value;
            const province = document.getElementById('registerProvince').value;
            const city = document.getElementById('registerCity').value;
            const emailError = document.getElementById('emailError');
            const usernameError = document.getElementById('usernameError');
            
            // Reset errors
            emailError.style.display = 'none';
            usernameError.style.display = 'none';
            
            // Simple email validation
            if (!email.includes('@') || !email.includes('.')) {
                emailError.style.display = 'block';
                return;
            }
            
            // Check if username already exists
            const users = JSON.parse(localStorage.getItem('voidcode_users'));
            if (users.some(user => user.username === username)) {
                usernameError.style.display = 'block';
                return;
            }
            
            // Add new user
            const newUser = {
                email: email,
                username: username,
                password: password,
                firstName: firstName,
                lastName: lastName,
                nationalCode: nationalCode,
                province: province,
                city: city,
                isAdmin: false // Ensure new users are not admin
            };
            
            users.push(newUser);
            localStorage.setItem('voidcode_users', JSON.stringify(users));
            
            registerModal.style.display = 'none';
            alert('ثبت نام با موفقیت انجام شد!');
        });

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.style.display = 'none';
            }
            if (e.target === registerModal) {
                registerModal.style.display = 'none';
            }
            if (e.target === purchaseModal) {
                purchaseModal.style.display = 'none';
            }
            if (e.target === ticketModal) {
                ticketModal.style.display = 'none';
            }
            if (e.target === adminMessageModal) {
                adminMessageModal.style.display = 'none';
            }
        });
    </script>
</body>
</html>